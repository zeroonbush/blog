# å˜é‡å’Œç±»å‹
## å˜é‡
### åˆ›å»ºä¸€ä¸ªå˜é‡
å› ä¸ºåœ¨Dartè¯­è¨€ä¸­,ä¸€åˆ‡çš†å¯¹è±¡,ä¸€ä¸ªå­—ç¬¦ä¸²,ä¸€ä¸ªæ•°å­—ç”šè‡³nulléƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡.å› æ­¤,å˜é‡å­˜å‚¨çš„æ˜¯å¯¹è±¡çš„å¼•ç”¨.
```Dart
var s = 'Hello Dart';
print(s);  // Hello Dart
```
è™½ç„¶Dartæ˜¯ä¸€é—¨å¼ºç±»å‹çš„è¯­è¨€,ä½†å®ƒå…·æœ‰ç±»å‹æ¨å¯¼çš„åŠŸèƒ½,å³æˆ‘ä»¬åœ¨å®šä¹‰çš„æ—¶å€™,ä¸ä¸€å®šéè¦å¼ºåˆ¶å®šä¹‰å˜é‡çš„å…·ä½“ç±»å‹.åƒä¸Šé¢çš„ä»£ç ä¸­,æˆ‘ä»¬ä½¿ç”¨`var`æ¥å£°æ˜ä¸€ä¸ªå˜é‡,Dartä¼šè‡ªè¡Œå¸®æˆ‘ä»¬åˆ¤æ–­å‡ºè¿™æ˜¯ä¸€ä¸ªStringç±»å‹çš„å˜é‡.ä¸Šé¢çš„ä»£ç æˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥æŒ‡å®šä¸€ä¸ªå…·ä½“çš„ç±»å‹:
```Dart
String s = 'Hello Dart';
print(s);
```
ä½†æˆ‘ä»¬å†æ¬¡ç»™å®ƒèµ‹å€¼å…¶ä»–ç±»å‹çš„æ—¶å€™,æ˜¯ä¼šæŠ¥é”™çš„.æˆ‘ä»¬åœ¨ä¸Šé¢çš„ä»£ç åé¢æ·»åŠ ä¸Šå¦‚ä¸‹ä»£ç ,å†æ¬¡è¿è¡Œ:
```Dart
s = 23;
print(s);
```
ä¼šå‡ºç°` Error: A value of type 'int' can't be assigned to a variable of type 'String'.`çš„é”™è¯¯æç¤º.å®ƒå‘Šè¯‰æˆ‘ä»¬,ä¸èƒ½å°†ä¸€ä¸ªintæ•´å‹èµ‹å€¼ç»™ä¸€ä¸ªç±»å‹ä¸ºStringçš„å˜é‡.ä½†æ˜¯ä¸‹é¢çš„åœºæ™¯ä¸­,ç±»å‹æ˜¯å¯ä»¥æ”¹å˜çš„:
```Dart
var s;
print(s);  // null
s = 'Hello Dart';
print(s);  // Hello Dart
s = 12;
print(s);  // 12
```
å½“æˆ‘ä»¬ç”¨varå£°æ˜ä¸€ä¸ªå˜é‡,ä½†æ˜¯ä¸ç»™å®ƒåˆå§‹åŒ–,åç»­çš„èµ‹å€¼æ“ä½œä¸­,å¯ä»¥æ˜¯å¤šç§ç±»å‹çš„.å¹¶ä¸”,æˆ‘ä»¬å¯ä»¥çœ‹åˆ°,æœªè¢«åˆå§‹åŒ–çš„å˜é‡,å®ƒçš„é»˜è®¤å€¼ä¸ºnull.
ä¸€èˆ¬æˆ‘ä»¬å»ºè®®,åœ¨å£°æ˜çš„æ—¶å€™æŒ‡å®šä¸€ä¸ªå…·ä½“çš„ç±»å‹.å¦‚æœæš‚æ—¶è¿˜ä¸çŸ¥é“ç±»å‹çš„è¯,å¯ä»¥ä½¿ç”¨å¯¹è±¡ç±»å‹å’ŒåŠ¨æ€ç±»å‹.
#### å¯¹è±¡ç±»å‹ Object
```Dart
Object s = 'Hello Dart';
print(s);  // Hello Dart
s = 12;
print(s);  // 2
```
#### åŠ¨æ€ç±»å‹ dynamic
```Dart
dynamic s = 'Hello Dart';
print(s);  // Hello Dart
s = 12;
print(s);  // 2
```
è¿™ä¸¤è€…è™½ç„¶éƒ½æ˜¯å¯ä»¥è®©å˜é‡æ¥æ”¶ä¸åŒçš„ç±»å‹,ä½†æ˜¯å®ƒä»¬æ˜¯æœ‰æœ¬è´¨çš„åŒºåˆ«çš„.å› ä¸ºåœ¨Dartä¸­,ä¸€åˆ‡çš†å¯¹è±¡,æ‰€æœ‰çš„ç±»å‹éƒ½æ˜¯ç»§æ‰¿è‡ªObject,æ‰€ä»¥å¯¹è±¡ç±»å‹å¯ä»¥æ¥æ”¶ä¸åŒçš„ç±»å‹.è€Œdynamicåˆ™æ˜¯è®©ä»£ç åœ¨ç¼–è¯‘é˜¶æ®µä¸æ‰§è¡Œç±»å‹æ£€æŸ¥.

### åˆ›å»ºä¸€ä¸ªå¸¸é‡
é€šå¸¸,åˆ›å»ºä¸€ä¸ªå¸¸é‡,æˆ‘ä»¬ä½¿ç”¨`const`æˆ–`final`å…³é”®å­—,è€Œä¸æ˜¯varæˆ–è€…å…¶ä»–ç±»å‹.
#### const
```Dart
const n = 1;
n = 2;
```
ç¼–è¯‘å™¨ä¼šæŠ¥é”™:`Error: Can't assign to the const variable 'n'.`.å‘Šè¯‰æˆ‘ä»¬æ— æ³•åˆ†é…ç»™ä¸€ä¸ªå¸¸é‡
#### final
```Dart
final n = 1;
n = 2;
```
ç¼–è¯‘å™¨ä¼šæŠ¥åŒæ ·çš„é”™è¯¯.
é‚£ä¹ˆè¿™ä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢? 
`const`æ˜¯ç¼–è¯‘æ—¶å¸¸é‡,å³å®ƒçš„å€¼åœ¨ç¼–è¯‘æ—¶å°±å·²ç»å›ºå®šäº†,è€Œ`final`åˆ™åœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨æ—¶è¢«åˆå§‹åŒ–(å½“ç„¶,`const`ç®—æ˜¯éšå¼`final`ç±»å‹).æ‰€ä»¥å®ä¾‹å˜é‡å¯ä»¥æ˜¯`final`ç±»å‹ä½†ä¸èƒ½æ˜¯`const`ç±»å‹,ä¸”å¿…é¡»åœ¨æ„é€ å‡½æ•°ä½“æ‰§è¡Œä¹‹å‰åˆå§‹åŒ–`final`å®ä¾‹å˜é‡.

## ç±»å‹

Dartè¯­è¨€æ”¯æŒå¤šç§å†…å»ºç±»å‹

- Number
- String
- Booleab
- List
- Set
- Map
- Rune

### Number
æœ‰`int`å’Œ`double`è¿™ä¸¤ç§ç±»å‹,å®ƒä»¬éƒ½æ˜¯`num`çš„äºšç±»å‹.å…¶ä¸­ `int` ä»£è¡¨æ•´æ•°, `double`(ä¹Ÿæ˜¯é‡‡ç”¨ IEEE 754 æ ‡å‡†)ä»£è¡¨æµ®ç‚¹æ•°.`num`æ‹¥æœ‰å„ç§åŸºæœ¬è¿ç®—æ–¹æ³•: `+` , `-` , `*` , `/`,`~/` , `abs()` , `ceil()` , `floor()`ç­‰.

#### int
å£°æ˜ä¸€ä¸ªæ•´æ•°
```Dart
var a = 1
int b = 1;
```

#### double
å£°æ˜ä¸€ä¸ªæµ®ç‚¹æ•°
```Dart
var a = 1.1;
int b = 1.1;
```

#### è¿ç®—
`/`é™¤æ³•è¿ç®—, `%`é™¤æ³•å–ä½™, `~/`é™¤æ³•å–æ•´
```Dart
int a = 7;
int b = 2;
print(a / b);  // 3.5
print(a % b);  // 1
print(a ~/ b);  // 3
```

### String
å¯ä»¥é‡‡ç”¨å•å¼•å·`'` , åŒå¼•å· `"` , ä¸‰å¼•å· `'''` æ¥åˆ›å»ºå­—ç¬¦ä¸²,å…¶ä¸­ä¸‰å¼•å·å®ç°å¤šè¡Œå­—ç¬¦ä¸²å¯¹è±¡çš„åˆ›å»º.
```Dart
String a = 'Hello Dart';
String b = "Hello Dart";
String c = 'Hello I\'m Dart';
String d = '''
  Hello World
  I'm Dart
''';
```
å­—ç¬¦ä¸²é€šè¿‡ `${expression}` å†…åµŒè¡¨è¾¾å¼,å¦‚æœè¡¨è¾¾å¼æ˜¯ä¸€ä¸ªæ ‡è¯†ç¬¦,åˆ™{}å¯ä»¥çœç•¥
```dart
String language = 'Dart';
print('Hello ${language}');  // Hello Dart
print('Hello $language');  // Hello Dart
```
ä½¿ç”¨rå‰ç¼€,åˆ›å»ºåŸå§‹rawå­—ç¬¦ä¸²
```dart
String s = r'Hello \n world';
print(s);  // Hello \n world
```

#### ç±»å‹è½¬æ¢
å­—ç¬¦ä¸²ä¸æ•°å­—ä¹‹é—´çš„ç±»å‹è½¬æ¢
```dart
// String => int
String s = '1';
int a = int.parse(s);
assert(a == 1);

// String => double
String s2 = '1.2';
double b = double.parse(s2);
assert(b == 1.2);

// int => String
int n = 1;
String c = n.toString();
assert(c == '1');

// double => String
double m = 1.2345;
String d = m.toStringAsFixed(2);
assert(d == '1.23');
```
å…¶ä¸­`assert`æ˜¯æ–­è¨€,åœ¨ç”Ÿäº§ç¯å¢ƒä¼šè¢«å¿½ç•¥,åœ¨å¼€å‘ç¯å¢ƒä¸‹`assert(condition)`ä¼šåœ¨étrueçš„æƒ…å†µä¸‹æŠ›å‡ºå¼‚å¸¸.

### Boolean
ä½¿ç”¨ `bool` ç±»å‹è¡¨ç¤ºå¸ƒå°”å€¼,æœ‰å­—é¢é‡ `true` å’Œ`false` ,éƒ½æ˜¯ç¼–è¯‘æ—¶å¸¸é‡.Dartçš„ç±»å‹å®‰å…¨æ„å‘³ç€ä¸èƒ½ä½¿ç”¨`if(nonbooleanValue)` æˆ– `assert(nonbooleanValue)` ,è€Œåº”è¯¥æ˜ç¡®æ£€æŸ¥.
```dart
String s = '';
assert(s.isEmpty);

int n = 0;
assert(n == 0);

var o = null;
assert(o == null);

var t = 0 / 0;
assert(t.isNaN);
```
åœ¨JavaScriptä¸­,å› ä¸ºå­˜åœ¨éšå¼è½¬æ¢,æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æœ‰å¦‚ä¸‹æ“ä½œ

```javascript
let arr = []
if(arr){
  console.log('1')
}else{
  console.log('2')
}
```
ç»“æœä¼šè¾“å‡º`1`,ä½†æ˜¯åœ¨Darté‡Œé¢è¿™æ ·å°±æ˜¯è¡Œä¸é€šçš„,`if(flag)`æ‹¬å·é‡Œé¢çš„flagå¿…é¡»æ˜¯ä¸ªå¾ˆæ˜ç¡®çš„boolå€¼.

### List
å°±æ˜¯Dartä¸­çš„æ•°ç»„ç±»å‹,ç”¨`List`æ¥å®šä¹‰.
```dart
List list = [1,2];
print(list);  // [1, 2]
list.add(3);
print(list);  // [1, 2, 3]
list.addAll([4,5]);
print(list);  // [1, 2, 3, 4, 5]
print(list.length);  // 5
list[2] = 22;
print(list);  // [1, 2, 22, 4, 5]
```
ä¹Ÿå¯ä»¥çº¦æŸListä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ çš„ç±»å‹
```dart
List<int> list = [1,2];
list.add('2');  //Error: The argument type 'String' can't be assigned to the parameter type 'int'.
```
è¿™é‡Œæˆ‘ä»¬å°è¯•å°†ä¸€ä¸ªé”™è¯¯ç±»å‹çš„å€¼æ·»åŠ è¿›å»,åˆ™ä¼šæç¤ºé”™è¯¯.ä½†å…¶å®å¦‚æœæˆ‘ä»¬å°†ä»£ç æ”¹æˆå¦‚ä¸‹:
```dart
var list = [1,2];
list.add('2');
```
ä¹Ÿè¿˜æ˜¯ä¼šæŠ¥åŒæ ·çš„é”™è¯¯æç¤º.è¿™æ˜¯å› ä¸ºæˆ‘ä»¬ä¹‹å‰è®²åˆ°è¿‡çš„,æœ‰é»˜è®¤çš„ç±»å‹æ¨å¯¼,åˆ¤æ–­å‡ºlistçš„ç±»å‹ä¸º`LIst<int>`,è€Œç°åœ¨æ·»åŠ çš„å´æ˜¯ä¸€ä¸ªStringç±»å‹çš„å­—ç¬¦ä¸².

### Set
æ˜¯ä¸€ä¸ªå…ƒç´ å”¯ä¸€çš„æ— åºé›†åˆ
```dart
var set = {'zhangsan','lisi'};  // åˆ›å»ºä¸€ä¸ªset
```
`var set = {'zhangsan','lisi'};` è¿™é‡Œä¼šæœ‰ä¸ªé»˜è®¤çš„ç±»å‹æ¨å¯¼,åˆ¤æ–­å‡ºsetçš„ç±»å‹ä¸º `Set<String>` ,å¦‚æœå°è¯•å°†é”™è¯¯ç±»å‹æ·»åŠ è¿›å»,åˆ™ä¼šæç¤ºé”™è¯¯.

è¦åˆ›å»ºä¸€ä¸ªç©ºé›†,ä½¿ç”¨å‰é¢å¸¦æœ‰ç±»å‹å‚æ•°çš„{} æˆ–å°†{}èµ‹å€¼ç»™Setç±»å‹çš„å˜é‡
```dart
var set = <String>{};
Set<String> set2 = {}; 
var o = {};  //åˆ›å»ºçš„æ˜¯ä¸€ä¸ªMap,è€Œä¸æ˜¯ä¸€ä¸ªSet
```

ä½¿ç”¨`add()`å’Œ`addAll()`æ·»åŠ å…ƒç´ ,ä½¿ç”¨ `.length`è·å–Setä¸­å…ƒç´ çš„ä¸ªæ•°
```dart
var set = <String>{};
var set2 = {'list'};
set.add('zhangsan');
set.addAll(set2);
print(set);  // {zhangsan, list}
print(set.length);  // 2
```

åœ¨Setå­—é¢é‡ä¹‹å‰æ·»åŠ const,å¯ä»¥åˆ›å»ºä¸€ä¸ªç¼–è¯‘æ—¶Setå¸¸é‡,æ­¤åä¾¿ä¸å†å¯ä»¥æ›´æ”¹setçš„å†…å®¹.
```dart
final set = const {
  'zhangsan'
};
```

### Map
å…³è”keyså’Œvaluesçš„å¯¹è±¡,keyså’Œvalueså¯ä»¥æ˜¯ä»»ä½•ç±»å‹çš„å¯¹è±¡
```dart
var map = {
  'name':'zhangsan',
  'location':'China'
};
```
è¿™é‡Œä¼šæœ‰ä¸ªé»˜è®¤çš„ç±»å‹æ¨å¯¼,åˆ¤æ–­å‡ºmapçš„ç±»å‹ä¸º `Map<String,String>` ,å¦‚æœå°è¯•å°†é”™è¯¯ç±»å‹æ·»åŠ è¿›å»,åˆ™ä¼šæç¤ºé”™è¯¯.

ä½¿ç”¨Mapæ„é€ å‡½æ•°åˆ›å»º,Dartä¸€åˆ‡çš†æ˜¯å¯¹è±¡(éƒ½æ˜¯ç±»çš„å®ä¾‹),æ‰€ä»¥å˜é‡å¯ä»¥ä½¿ç”¨æ„é€ å‡½æ•°è¿›è¡Œåˆå§‹åŒ–
```dart
var map = Map();
map['name'] = 'zhangsan';
map['age'] = 18;
print(map);  // {name: zhangsan, age: 18}
```

åœ¨è·å–valueså€¼æ—¶,å¦‚ä¸å­˜åœ¨çš„è¿”å›null:
```dart
print(map['name']);
print(map['gender']);  // null
```

ä½¿ç”¨ `.length`è·å–é”®å€¼å¯¹æ•°é‡
```dart
print(map.length);  // 2
```

### Rune
ç”¨æ¥è¡¨ç¤ºå­—ç¬¦ä¸²ä¸­çš„UTF-32ç¼–ç å­—ç¬¦.ç”±äºDartå­—ç¬¦ä¸²æ˜¯UTF-16ç¼–ç å•å…ƒ,å› æ­¤è¦åœ¨å­—ç¬¦ä¸²ä¸­è¡¨ç¤º32ä½çš„Unicodeéœ€è¦ç‰¹æ®Šè¯­æ³•æ”¯æŒ: `\uXXXX`ç”¨4ä¸ª16è¿›åˆ¶æ•°æ¥è¡¨ç¤º,å¯¹äºé4ä¸ªæ•°å€¼çš„æƒ…å†µ,ç”¨å¤§æ‹¬å·æŠŠç¼–ç å€¼æ‹¬èµ·æ¥å³å¯.
```dart
print('\u2665');  // â™¥
print('\u{1f44d}');  // ğŸ‘
Runes input = new Runes('\u2665 \u{1f47b} \u{1f44d}');
print(new String.fromCharCodes(input));  // â™¥ ğŸ‘» ğŸ‘
```